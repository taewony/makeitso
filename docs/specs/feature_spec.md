### **"심장 후벼파는 욕쟁이 AI 비서" 앱 기능 명세 (Feature Specification)**

#### **Feature 1: 사용자 인증 (User Authentication)**

*   **1-1. 회원가입:**
    *   사용자는 이메일과 비밀번호를 사용하여 신규 계정을 생성할 수 있다.
    *   사용자는 구글 계정을 연동하여 신규 계정을 생성할 수 있다.
*   **1-2. 로그인:**
    *   가입한 이메일/비밀번호 또는 구글 계정으로 로그인할 수 있다.
*   **1-3. 세션 관리:**
    *   로그인 성공 시, 사용자의 로그인 상태는 4주간 유지된다. (자동 로그인)
*   **1-4. 로그아웃:**
    *   사용자는 설정 메뉴 등에서 명시적으로 로그아웃할 수 있다.

#### **Feature 2: 온보딩 및 초기 설정 (Onboarding & Initial Setup)**

*   **2-1. 초기 설정 트리거:**
    *   최초 회원가입 및 로그인 후, 사용자의 목표나 AI 캐릭터가 설정되어 있지 않으면 '초기 설정' 화면으로 강제 이동한다.
*   **2-2. 목표 설정:**
    *   사용자는 자신의 개인적인 목표를 최소 1개, 최대 3개까지 텍스트로 입력하여 저장할 수 있다.
*   **2-3. AI 캐릭터 선택:**
    *   사용자는 다음과 같은 3가지 AI 캐릭터 중 하나를 선택할 수 있다.
        1.  심장 후벼파는 욕쟁이
        2.  귀에서 피나는 하이톤 잔소리 여친
        3.  드라이 아이스 냉혹한 겨울공주
*   **2-4. 설정 저장:**
    *   목표와 캐릭터 설정이 완료되면, 해당 정보는 사용자의 프로필에 저장되며 주 화면으로 이동한다.

#### **Feature 3: 할 일(Todo) 관리**

*   **3-1. 할 일 목록 조회:**
    *   사용자는 앱의 메인 화면에서 자신의 할 일 목록 전체를 볼 수 있다.
    *   완료된 항목과 미완료된 항목이 시각적으로 구분되어야 한다.
*   **3-2. 할 일 추가:**
    *   사용자는 'Create a todo item' 버튼을 통해 새로운 할 일을 추가할 수 있다.
    *   할 일 추가 시 다음 정보를 입력/선택한다.
        *   **내용:** (텍스트 입력)
        *   **마감 기한:** '24시간 내' 또는 '1주일 내' 중 선택
        *   **우선순위:** (UI를 통해 선택)
*   **3-3. 할 일 완료 처리:**
    *   사용자는 목록에서 특정 할 일을 '완료' 상태로 변경할 수 있다. 완료된 항목은 취소선을 긋는 등 시각적 변화가 있어야 한다.
    *   완료된 할 일은 목록에서 삭제되지 않고 유지된다.

#### **Feature 4: AI 잔소리 기능**

*   **4-1. 잔소리 생성 및 표시:**
    *   AI가 생성한 잔소리 메시지는 **모달(Modal) 알림 창** 형태로 사용자에게 표시된다.
*   **4-2. 잔소리 트리거 조건:**
    *   **수동 트리거:** 메인 화면 우측 하단의 'AI 비서 건들기' 버튼을 누르면 AI가 잔소리를 생성하여 보여준다.
    *   **자동 트리거:** 사용자가 새로운 할 일을 추가하고 저장하면, AI가 즉시 잔소리를 생성하여 보여준다.
*   **4-3. AI 잔소리 생성 로직:**
    *   잔소리 트리거가 발동하면, 앱은 다음 정보를 조합하여 백엔드(Firebase Cloud Function)로 전달한다.
        1.  사용자가 설정한 **목표 (1~3개)**
        2.  사용자의 **전체 할 일 목록** (완료 여부 포함)
        3.  사용자가 선택한 **AI 캐릭터**
    *   백엔드는 이 정보를 바탕으로 LLM(Gemini)에 요청할 프롬프트를 생성하고, LLM으로부터 받은 잔소리 텍스트를 앱으로 반환한다.

#### **Feature 5: 설정 및 조회**

*   **5-1. 과거 기록 조회:**
    *   사용자는 설정(톱니바퀴 아이콘)을 통해 '과거 기록 보기' 화면으로 진입할 수 있다.
*   **5-2. 표시 옵션 설정:**
    *   '과거 기록 보기' 화면 내에서, 사용자는 다음 두 가지 옵션을 켜거나 끌 수 있다.
        1.  **완료된 할 일 포함하여 보기**
        2.  **과거에 받았던 잔소리 메시지 함께 보기**
*   **5-3. 목표 및 캐릭터 변경:**
    *   사용자는 설정 화면에서 이전에 설정했던 자신의 목표와 AI 캐릭터를 언제든지 수정할 수 있다.
